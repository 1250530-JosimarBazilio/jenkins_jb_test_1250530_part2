# ===========================================
# GREEN Error Simulation Configuration
# ===========================================
# Use este profile para testar o rollback automático
# Ativa o modo de simulação de erros no BookControllerGreen
#
# Labels de Release:
# - deployment.slot: green
# - deployment.mode: error-simulation
# - deployment.rollback-expected: true

# Deployment Identification
deployment.slot=green
deployment.green.version=${GREEN_VERSION:v2.0.0-error}

# ATIVAR SIMULAÇÃO DE ERROS
# Isto fará com que todas as operações no BookControllerGreen lancem exceções
deployment.green.simulate-error=true

# Rollback Configuration
deployment.rollback.enabled=true
deployment.rollback.trigger=exception,health-check-failure,smoke-test-failure
deployment.rollback.target=blue

# Health Check Configuration
management.endpoint.health.show-details=always
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# Server Configuration
server.port=8091
